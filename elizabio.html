<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <script>window.sheetCsvUrl = "https://docs.google.com/spreadsheets/d/1iAi73leePAUecgtVYqUneI64RleFUV68N0gRVPJ5kus/export?format=csv&gid=539268331";</script>
  <script src="access_sheets.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Rakkas&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Platypi&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>elizabio</title>
</head>


<body>

  <div class="swipe"></div>

<div>
  <h1 style="color: #ec3ca2">ELIZA</h1>
  <h1></h1>Biological/Natural Ending</h1><br><br>
</div>

<div id="chart" class="pie"
     role="img"
     style="
       --size:180px;
       --inner:48%;
       /* colors (your palette, same order as your gradient) */
       --c1:#b53410; --c2:#ec3ca2; --c3:#5794e3; --c4:#5544b1; --c5:#564750;
       --c6:#5a9843; --c7:#b6d468; --c8:#bfbfbf; --c9:#fc8210; --c10:#ad3cc4;
       /* cumulative stops (must be increasing, final should be 100%) */
       --s1: VAR1;
       --s2: VAR2;
       --s3: VAR3;
       --s4: VAR4;
       --s5: VAR5;
       --s6: VAR6;
       --s7: VAR7;
       --s8: VAR8;
       --s9: VAR9;
       --s10: VAR10;
       ">
  <span class="pie__center">    <p><span data-cell="I2"></span>%</p>
</span>
</div>

<!--temp storage-->
<div id="sheet-values" hidden>
   <span data-cell="I29"></span>
   <span data-cell="I2"></span>
   <span data-cell="I5"></span>
   <span data-cell="I8"></span>
   <span data-cell="I11"></span>
   <span data-cell="I14"></span>
   <span data-cell="I17"></span>
   <span data-cell="I20"></span>
   <span data-cell="I23"></span>
   <span data-cell="I26"></span>
</div>
<!-- read the values from the hidden spans and update the CSS variables for the pie chart accordingly.-->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const pie = document.getElementById("chart");
  // Collect all sheet values in order
  const spans = document.querySelectorAll('#sheet-values [data-cell]');
  let cumulative = 0;
  spans.forEach((span, i) => {
    const value = parseFloat(span.textContent) || 0;
    cumulative += value;
    // --s1, --s2, --s3 â€¦ etc
    pie.style.setProperty(`--s${i + 1}`, cumulative + "%");
  });
  // Safety: ensure final stop is 100%
  pie.style.setProperty("--s10", "100%");
});
</script>
<!--whatever comes after the pie chart this way-->
  <p>Ending text.</p>

  <br>
  <br>
  <br>
  <a href="index.html" class="button">HOME</a>
  <br>
  <br>
</body>
</html>
