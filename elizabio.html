<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <script>window.sheetCsvUrl = "https://docs.google.com/spreadsheets/d/1iAi73leePAUecgtVYqUneI64RleFUV68N0gRVPJ5kus/export?format=csv&gid=539268331";</script>
  <script src="access_sheets.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Rakkas&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Platypi&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>elizabio</title>
</head>


<body>

  <div class="swipe"></div>

<div>
  <h1 style="color: #ec3ca2">ELIZA</h1>
  <h1></h1>Biological/Natural Ending</h1><br><br>
</div>

<div id="chart" class="pie"
     role="img"
     style="
       --size:180px;
       --inner:48%;
       /* colors (your palette, same order as your gradient) */
       --c1:#b53410; --c2:#ec3ca2; --c3:#5794e3; --c4:#5544b1; --c5:#564750;
       --c6:#5a9843; --c7:#b6d468; --c8:#bfbfbf; --c9:#fc8210; --c10:#ad3cc4;
       /* cumulative stops (must be increasing, final should be 100%) */
       --s1: 0%; --s2: 0%; --s3: 0%; --s4: 0%; --s5: 0%;
       --s6: 0%; --s7: 0%; --s8: 0%; --s9: 0%; --s10: 100%;
       ">
  <span class="pie__center">    <!--<p><span data-cell="I2"></span>%</p>-->
</span>
</div>

<!--temp storage-->
<div id="sheet-values" hidden>
   <span data-cell="I29"></span>
   <span data-cell="I2"></span>
   <span data-cell="I5"></span>
   <span data-cell="I8"></span>
   <span data-cell="I11"></span>
   <span data-cell="I14"></span>
   <span data-cell="I17"></span>
   <span data-cell="I20"></span>
   <span data-cell="I23"></span>
   <span data-cell="I26"></span>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  // Select all spans
  const spans = document.querySelectorAll("#sheet-values span");

  spans.forEach(span => {
    const value = parseFloat(span.textContent) || 0;
    // Round to 1 decimal and overwrite the span
    span.textContent = Math.round(value * 10) / 10;
  });
});
</script>

<!-- read the values from the hidden spans and update the CSS variables for the pie chart accordingly.-->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const pie = document.getElementById("chart");

  // List the exact sheet cell IDs, in the order of your slices
  const cellIds = ["I29","I2","I5","I8","I11","I14","I17","I20","I23","I26"];

  let cumulative = 0;

  cellIds.forEach((id, i) => {
    // Read the value of each data-cell span
    const value = parseFloat(document.querySelector(`[data-cell="${id}"]`)?.textContent) || 0;
    cumulative += value;

    // Set the corresponding CSS variable --s1, --s2, ..., --s10
    pie.style.setProperty(`--s${i+1}`, cumulative + "%");
  });
  // Safety: ensure last stop is exactly 100%
  pie.style.setProperty("--s10", "100%");
});
</script>
<!--<script>
document.addEventListener("DOMContentLoaded", () => {
  const pie = document.getElementById("chart");
  // Collect all sheet values in order
  const spans = document.querySelectorAll('#sheet-values [data-cell]');
  let cumulative = 0;
  spans.forEach((span, i) => {
    const value = parseFloat(span.textContent) || 0;
    cumulative += value;
    // --s1, --s2, --s3 â€¦ etc
    pie.style.setProperty(`--s${i + 1}`, cumulative + "%");
  });
  // Safety: ensure final stop is 100%
  pie.style.setProperty("--s10", "100%");
});
</script>-->
<!--whatever comes after the pie chart this way-->
  <p>Ending text.</p>

  <br>
  <br>
  <br>
  <a href="index.html" class="button">HOME</a>
  <br>
  <br>
</body>
</html>
